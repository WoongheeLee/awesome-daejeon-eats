<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Awesome Daejeon Eats</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 1200px; margin: 0 auto; }
        h1, h2 { color: #333; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #f2f2f2; white-space: nowrap; }
        .checkbox-cell { text-align: center; }
        #contributors { margin-top: 30px; }
        #contributors ul { list-style-type: none; padding: 0; }
        #contributors li { margin-bottom: 10px; }
        .dataTables_wrapper .dataTables_filter { margin-bottom: 10px; }
        .dataTables_wrapper .dataTables_filter input { margin-left: 5px; }
        #restaurantTable th { height: 50px; vertical-align: middle; }
        .no-wrap { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px; } /* ì—…ì¢… ì—´ ìŠ¤íƒ€ì¼ */
        .center-align{
            text-align: center;
        }
        .visit-count {
            font-weight: bold;
            color: #000000;
            margin: 0 5px;
        }
        .visit-button {
            cursor: pointer;
            padding: 2px 5px;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        .info-box {
            background-color: #e7f3fe;
            border-left: 6px solid #2196F3;
            margin-bottom: 15px;
            padding: 4px 12px;
        }

        /* DataTablesì˜ hover ìŠ¤íƒ€ì¼ì„ ì˜¤ë²„ë¼ì´ë“œ (íŠ¹ì •ì„± ì¦ê°€) */
        table.dataTable.hover tbody tr:hover,
        table.dataTable.display tbody tr:hover {
            background-color: #2222221f !important;
        }
        
        /* ê¹ƒí—ˆë¸Œ ìŠ¤íƒ€ìš© ë°°ë„ˆ */
        .github-banner {
            background-color: #24292e;
            color: white;
            text-align: center;
            padding: 10px;
            margin-bottom: 20px;
        }
        .github-banner a {
            color: white;
            text-decoration: none;
        }
        .github-star {
            display: inline-block;
            background-color: #fafbfc;
            color: #24292e;
            padding: 3px 10px;
            border-radius: 3px;
            font-weight: bold;
            margin-left: 10px;
        }

    </style>
</head>
<body>
    <div class="github-banner">
        ì´ í”„ë¡œì íŠ¸ê°€ ìœ ìš©í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë‚˜ìš”? 
        <a href="https://github.com/WoongheeLee/awesome-daejeon-eats" target="_blank">
            GitHubì—ì„œ ìŠ¤íƒ€ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!
            <span class="github-star">â­ Star</span>
        </a>
    </div>
    
    <h1>ğŸ½ï¸ <b>Awesome Daejeon Eats</b></h1>

    <div class="info-box">
        <p><strong>ğŸ“Œ ì•ˆë‚´:</strong> ë°©ë¬¸ íšŸìˆ˜ëŠ” í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ê¸°ê¸°ì˜ ë¸Œë¼ìš°ì €ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤. ë‹¤ë¥¸ ê¸°ê¸°ë‚˜ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì´ ì •ë³´ê°€ ê³µìœ ë˜ì§€ ì•Šìœ¼ë©°, ë¸Œë¼ìš°ì € ë°ì´í„°ë¥¼ ì‚­ì œí•˜ë©´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.</p>
    </div>    

    <h2>ëª©ì°¨</h2>
    <ul>
        <li><a href="#restaurants">ëŒ€ì „ ë§›ì§‘ ëª©ë¡</a></li>
        <li><a href="#contributors">ê¸°ì—¬ì</a></li>
    </ul>

    <h2 id="restaurants">ëŒ€ì „ ë§›ì§‘ ëª©ë¡</h2>
    <table id="restaurantTable" class="display">
        <thead>
            <tr>
                <th class="center-align">ğŸ™ï¸ ì§€ì—­</th>
                <th class="center-align">ğŸ  ìƒí˜¸</th>
                <th class="center-align">ğŸ½ï¸ ì—…ì¢…</th>
                <th>ğŸ“ ë©”ë‰´ & ê°ìƒ</th>
                <th class="center-align">ğŸ”¢ ë°©ë¬¸ íšŸìˆ˜</th>
            </tr>
        </thead>
        <tbody>
            <!-- ë°ì´í„°ëŠ” JavaScriptë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
        </tbody>
    </table>

    <div id="contributors">
        <h2>ğŸ‘¥ ê¸°ì—¬ì</h2>
        <ul>
            <li>ğŸŒŸ<b>í•œê·œì›</b> - ë§›ì§‘ ë¦¬ìŠ¤íŠ¸, ì¹´í˜ & ë¹µì§‘ ë¦¬ìŠ¤íŠ¸</li>
            <li>ğŸŒŸ<b>í•œì •í›ˆ</b> - ë§›ì§‘ ì¶”ì²œ</li>
            <li>ğŸŒŸ<b>ê¹€íƒœì¤€</b> - ë§›ì§‘ ì¶”ì²œ</li>
            <li>ğŸŒŸ<b>ì „ë‹¤ì†œ</b> - ë§›ì§‘ ì¶”ì²œ</li>
            <li>ğŸŒŸ<b>ë°•ì£¼í˜•</b> - ë§›ì§‘ ì¶”ì²œ</li>
            <li>ğŸŒŸ<b>ë¥˜ìš´ì¬</b> - ë§›ì§‘ ì¶”ì²œ</li>
            <li>ğŸŒŸ<b>ì „ë³‘ê¸°</b> - ë§›ì§‘ ì¶”ì²œ</li>
            <li>ğŸŒŸ<b>ì œìƒí˜„</b> - ë§›ì§‘ ì¶”ì²œ</li>
            <li>ğŸŒŸ<b>ì´ì›…í¬</b> - ì½”ë“œ ì‘ì„±</li>
            <li></li>
            <!-- ì¶”ê°€ ê¸°ì—¬ì ì •ë³´ë¥¼ ì—¬ê¸°ì— ë„£ìœ¼ì„¸ìš” -->
        </ul>
    </div>

    <div id="disclaimer">
        <h2>âš ï¸ ë©´ì±… ì¡°í•­ (Disclaimer)</h2>
        <p>ì´ ë¦¬ìŠ¤íŠ¸ëŠ” ê°œì¸ì ì¸ ê²½í—˜ê³¼ ì¶”ì²œì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ëœ ê²ƒì´ë©°, ê¸°ì—¬ìë“¤ì€ ì–¸ê¸‰ëœ ì‹ë‹¹, ì¹´í˜, ë¹µì§‘ê³¼ ì–´ë–¤ ìƒì—…ì  ê´€ê³„ë„ ì—†ìŒì„ ë°í™ë‹ˆë‹¤.</p>
        <p>ì‹ë‹¹ì´ë‚˜ ì¹´í˜ë¡œë¶€í„° ì–´ë– í•œ ê¸ˆì „ì  ë³´ìƒì´ë‚˜ í˜œíƒì„ ë°›ì§€ ì•Šì•˜ìœ¼ë©°, íŠ¹ì • ì—…ì¥ì˜ í™ë³´ë¥¼ ëª©ì ìœ¼ë¡œ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
        <p>ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ëœ ì •ë³´ëŠ” ì‘ì„± ì‹œì ì„ ê¸°ì¤€ìœ¼ë¡œ í•œ ê²ƒì´ë©°, ì‹¤ì œ ë°©ë¬¸ ì‹œ ì •ë³´ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°©ë¬¸ ì „ì— ìµœì‹  ì •ë³´ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.</p>
    </div>

    <div id="contribution">
        <h2>ğŸ¤ ê¸°ì—¬ ë°©ë²•</h2>
        <p>ì´ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•  ë§›ì§‘ì´ë‚˜ ì¹´í˜ê°€ ìˆë‹¤ë©´ Issueë‚˜ PR(Pull Request)ë¡œ ììœ ë¡­ê²Œ ê¸°ì—¬í•´ ì£¼ì„¸ìš”! ğŸ˜„</p>
        <p>í”„ë¡œì íŠ¸ ë§í¬: <a href="https://github.com/WoongheeLee/awesome-daejeon-eats">awesome-daejeon-eats</a> (ê¹ƒí—ˆë¸Œ ê°€ì…/ë¡œê·¸ì¸ í•„ìš”)</p>
        <h3>Issueë¡œ ê¸°ì—¬í•˜ê¸° (ê°„í¸í•œ ë°©ë²•)</h3>
        <ol>
            <li>ì €ì¥ì†Œì˜ 'Issues' íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.</li>
            <li>'New issue' ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.</li>
            <li>ì œëª©ì— ë§›ì§‘/ì¹´í˜ ì´ë¦„ì„, ë‚´ìš©ì— ì£¼ì†Œì™€ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì‘ì„±í•©ë‹ˆë‹¤.</li>
            <li>'Submit new issue' ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì œì¶œí•©ë‹ˆë‹¤.</li>
        </ol>
        <h3>Pull Requestë¡œ ê¸°ì—¬í•˜ê¸°</h3>
        <ol>
            <li>ì´ ì €ì¥ì†Œë¥¼ í¬í¬(Fork)í•©ë‹ˆë‹¤.</li>
            <li>ìƒˆë¡œìš´ ë¸Œëœì¹˜ë¥¼ ë§Œë“­ë‹ˆë‹¤.</li>
            <li>ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•©ë‹ˆë‹¤.</li>
            <li>í¬í¬í•œ ì €ì¥ì†Œì— í‘¸ì‹œí•©ë‹ˆë‹¤.</li>
            <li>ì´ ì €ì¥ì†Œë¡œ Pull Requestë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</li>
        </ol>
        <p>ì—¬ëŸ¬ë¶„ì˜ ê¸°ì—¬ì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤! ğŸ™</p>
    </div>

    <script>
        $(document).ready(function() {
            Papa.parse('daejeon_eats.csv', {
                download: true,
                header: true,
                complete: function(results) {
                    var tableData = results.data.map(function(row) {
                        var restaurantName = row['ìƒí˜¸'];
                        var visitKey = 'visit_' + restaurantName;
                        var storedVisitCount = localStorage.getItem(visitKey);
                        var visitCount = storedVisitCount !== null ? parseInt(storedVisitCount) : 0;
                        
                        return [
                            '<div class="center-align">' + (row['ì§€ì—­'] || '') + '</div>',
                            '<div class="center-align"><b>' + (restaurantName || '') + '</b></div>',
                            '<div class="center-align no-wrap">' + (row['ì—…ì¢…'] || '') + '</div>',
                            row['ë©”ë‰´ & ê°ìƒ'] || '',
                            '<div class="center-align">' +
                            '<button class="visit-button minus">-</button>' +
                            '<span class="visit-count">' + visitCount + '</span>' +
                            '<button class="visit-button plus">+</button>' + 
                            '</div>'
                        ];
                    });
    
                    var table = $('#restaurantTable').DataTable({
                        data: tableData,
                        columns: [
                            { title: "ğŸ™ï¸ ì§€ì—­" },
                            { title: "ğŸ  ìƒí˜¸", className: "no-wrap" },
                            { title: "ğŸ½ï¸ ì—…ì¢…", className: "no-wrap" },
                            { title: "ğŸ“ ë©”ë‰´ & ê°ìƒ" },
                            { title: "ğŸ”¢ ë°©ë¬¸ íšŸìˆ˜" }
                        ],
                        language: {
                            url: "//cdn.datatables.net/plug-ins/1.10.24/i18n/Korean.json"
                        },
                        pageLength: -1,
                        lengthChange: false,
                        order: [[4, 'desc']],

                        hover: false, 
                        createdRow: function(row, data, dataIndex) {
                            $(row).off('mouseenter mouseleave'); 
                        }
                    });
    
                    $('#restaurantTable').on('click', '.visit-button', function() {
                        var $row = $(this).closest('tr');
                        var restaurantName = $row.find('td:eq(1)').text().trim();
                        var visitKey = 'visit_' + restaurantName;
                        var $countSpan = $row.find('.visit-count');
                        var visitCount = parseInt($countSpan.text());
                        
                        if ($(this).hasClass('plus')) {
                            visitCount++;
                        } else if ($(this).hasClass('minus')) {
                            visitCount = Math.max(0, visitCount - 1);
                        }
                        
                        localStorage.setItem(visitKey, visitCount);
                        $countSpan.text(visitCount);
                    });

                    // DataTables ì´ˆê¸°í™” í›„ ì¶”ê°€ ìŠ¤íƒ€ì¼ ì ìš©
                    $('#restaurantTable').on('init.dt', function() {
                        $('#restaurantTable tbody').on('mouseenter', 'tr', function() {
                            $(this).css('background-color', '#4646461f');
                        }).on('mouseleave', 'tr', function() {
                            $(this).css('background-color', '');
                        });
                    });

                    // í˜ì´ì§€ ë³€ê²½ ì‹œì—ë„ hover íš¨ê³¼ ì ìš©
                    $('#restaurantTable').on('draw.dt', function() {
                        $('#restaurantTable tbody').off('mouseenter mouseleave').on('mouseenter', 'tr', function() {
                            $(this).css('background-color', '#4646461f');
                        }).on('mouseleave', 'tr', function() {
                            $(this).css('background-color', '');
                        });
                    });
                }
            });
        });
    </script>
</body>
</html>
